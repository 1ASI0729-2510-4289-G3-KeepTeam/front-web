<div class="main">

  <div class="sidebar">
    <div class="up-bar">
      <mat-icon class="clickable-icon" (click)="goBack()">arrow_back</mat-icon>

      <div class="sidebar">
        <app-sidebar *ngIf="collection != undefined"
                     [nav]="productList"
                     [subCollections]="subCollections"
                     [collection]="collection">
        </app-sidebar>
      </div>

    </div>

  </div>
  <app-creation-buttons [buttons]="creationButtons"></app-creation-buttons>
  <div class="containerContent">
    <div class="searchBar">
      <app-item-actions [item]="collection"
                        (onDelete)="deleteCollection($event)"
                        (onShare)="shareCollection()"
                        (shareQr)="shareCollectionQr()"
      ></app-item-actions>

      <app-search-bar></app-search-bar>
    </div>

    <div class="content" *ngIf="productList.length > 0; else noProducts">

      <ng-container *ngFor="let product of productList">
        <app-product-item-card
          *ngIf="!product.isInTrash"
          [title]="product.title"
          [tags]="product.tags"
          [imageUrl]="product.urlImg"
          [description]="product.description"
          [link]="product.id"
          [item]="product"
          (delete)="deleteWish($event)"           (edit)="editWish($event)"               (shareQr)="shareWishQr($event)"         (shareLink)="shareWishLink($event)"     ></app-product-item-card>
      </ng-container>
      <ng-container *ngFor="let collection of collections">
        <app-collection-card
          *ngIf="!collection.isInTrash"
          [collection]="collection"
          [name]="collection.title"
          [imageUrls]="collection.imageUrls"
          [tags]="collection.tags"
          (delete)="deleteCollection($event)"
          (edit)="editCollection($event)"
          (share)="shareCollection()"
          (shareQr)="navigateToQrShare(collection)"
          (view)="navigateToCollection(collection.id)"
        ></app-collection-card>
      </ng-container>

    </div>
    <ng-template #noProducts>
      <div style="text-align: center; margin-top: 10rem">There are no products in this collection.</div>
    </ng-template>
  </div>
</div>
